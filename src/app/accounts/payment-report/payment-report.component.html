<div class="wrapper">
  <div class="content-wrapper">
    <section class="content-header">
      <h1 class="title">Payment Report</h1>
      <form novalidate (ngSubmit)="validatePaymentReportForm()" [formGroup]="paymentReportForm" autocomplete="off">
      <div class="">
        <div class="col-md-2" >
          <label style="color:#757575; display: inline-block;font-weight: 400;margin: 8px 0 0 -5px">Add Filter</label>
        </div>
        <div class="col-md-2 alc alc-fix">
          <div class="form-group">
            <input name="bnknm" placeholder="Enter Date" type='text' class="form-control d-inline" [owlDateTime]="report_start_date" [owlDateTimeTrigger]="report_start_date"  formControlName="start_date" required [class.error1]="!paymentReportForm.controls.start_date.valid && paymentReportForm.controls.start_date.dirty" [(ngModel)]="paymentReportData.start_date"  style="width: 100%;" />
            <owl-date-time  [pickerType]="'calendar'" #report_start_date></owl-date-time>
            <div *ngIf="( paymentReportForm.get('start_date').hasError('minlength') || paymentReportForm.get('start_date').hasError('pattern') || paymentReportForm.get('start_date').hasError('required') ) && paymentReportForm.get('start_date').touched">
              <div class="error" *ngIf="(paymentReportForm.get('start_date').hasError('required') && paymentReportForm.get('start_date').touched)">
                This field is mandatory
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-2 alc ">
          <div class="form-group">
            <input name="endDate" type='text' placeholder="Enter Date" class="form-control d-inline" [owlDateTime]="report_end_date" [owlDateTimeTrigger]="report_end_date" formControlName="end_date" required [class.error1]="!paymentReportForm.controls.end_date.valid && paymentReportForm.controls.end_date.dirty" [(ngModel)]="paymentReportData.end_date" style="width: 100%;"  />
            <owl-date-time  [pickerType]="'calendar'" #report_end_date></owl-date-time>
            <div *ngIf="( paymentReportForm.get('end_date').hasError('minlength') || paymentReportForm.get('end_date').hasError('pattern') || paymentReportForm.get('end_date').hasError('required') ) && paymentReportForm.get('end_date').touched">
              <div class="error" *ngIf="(paymentReportForm.get('end_date').hasError('required') && paymentReportForm.get('end_date').touched)">
                This field is mandatory
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="form-group multiselect-holder" >
            <ng-multiselect-dropdown
            [placeholder]="'Select Component'"
            [data]="dropdownList"
            [(ngModel)]="paymentReportData.components"
            [settings]="dropdownSettings"
            (onSelect)="onItemSelect($event)"
            (onSelectAll)="onSelectAll($event)"
            formControlName="components" required [class.error1]="!paymentReportForm.controls.components.valid && paymentReportForm.controls.components.dirty" class="form-control d-inline" style="width: 100%;"
            >
            </ng-multiselect-dropdown>
            <div *ngIf="( paymentReportForm.get('components').hasError('minlength') || paymentReportForm.get('components').hasError('pattern') || paymentReportForm.get('components').hasError('required') ) && paymentReportForm.get('components').touched">
              <div class="error" *ngIf="(paymentReportForm.get('components').hasError('required') && paymentReportForm.get('components').touched)">
                This field is mandatory
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-2" >
          <button type="submit" class="btn bg-orange btn-flat btn-apply" [disabled]="paymentReportForm.invalid">Submit</button>
        </div>
      </div>
      </form>
    </section>
    <section class="content">
      <div class="">
        <div class="box-body">
          <div class="">
            <table class="table   table-striped table-hover" datatable [dtOptions]="payemntReportTableOptions"  [dtTrigger]="paymentReportTableTrigger">
            <thead>
              <tr>
                <th *ngFor= "let t of report_column">{{t}}</th>
              </tr>
            </thead>
            <tbody>
              <tr  *ngFor="let r of report_data">
                <td>{{r.pan | nullData}}</td>
                <td>{{r.user_name}}</td>
                <td>{{r.employee_number}}</td>
                <td *ngFor="let a of r.data"><i class="fa fa-inr" aria-hidden="true"></i> {{a.amount | indianCurrency}}</td>
                <td><i class="fa fa-inr" aria-hidden="true"></i> {{r.total | indianCurrency}}</td>
              </tr>
            </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>
  </div>
</div>
